image:
  file: .gitpod.Dockerfile
tasks:
  - name: setup
    before: |-
      # Open README in VS Code (or default IDE)
      gp open README.md

      # Download the latest release
      curl -s https://api.github.com/repos/thatdot/quine/releases/latest \
      | grep "browser_download_url.*jar" \
      | cut -d : -f 2,3 \
      | tr -d \" \
      | wget -i -
      
      # Create a Quine sym-link
      ln -s $(ls -tr quine-*.jar | tail -1) quine.jar

ports:
  - port: 8080
    onOpen: open-browser
    visibility: private
